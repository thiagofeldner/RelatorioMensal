<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Relat√≥rio Mensal - InterOp</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
</head>

<body>
    <div class="container">
        <header>
            <img src="./img/Cabecalho.png" alt="Cabe√ßalho InterOp" class="header-image"
                onerror="this.style.display='none'">
        </header>

        <main>
            <!-- Se√ß√£o 1 - Identifica√ß√£o -->
            <section class="section" id="identificacao">
                <h2>1 - Identifica√ß√£o</h2>
                <div class="form-row">
                    <div class="form-group">
                        <label for="nome">Nome Completo *</label>
                        <input type="text" id="nome" placeholder="Digite seu nome completo" required>
                    </div>
                    <div class="form-group">
                        <label for="cargo">Cargo *</label>
                        <input type="text" id="cargo" placeholder="Digite seu cargo" required>
                    </div>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label for="email">E-mail *</label>
                        <input type="email" id="email" placeholder="seu.email@empresa.com" required>
                    </div>
                    <div class="form-group">
                        <label for="mesReferencia">M√™s/Ano de Refer√™ncia *</label>
                        <div class="date-input-group">
                            <select id="mesReferencia" required>
                                <option value="">M√™s</option>
                                <option value="Janeiro">Janeiro</option>
                                <option value="Fevereiro">Fevereiro</option>
                                <option value="Mar√ßo">Mar√ßo</option>
                                <option value="Abril">Abril</option>
                                <option value="Maio">Maio</option>
                                <option value="Junho">Junho</option>
                                <option value="Julho">Julho</option>
                                <option value="Agosto">Agosto</option>
                                <option value="Setembro">Setembro</option>
                                <option value="Outubro">Outubro</option>
                                <option value="Novembro">Novembro</option>
                                <option value="Dezembro">Dezembro</option>
                            </select>
                            <input type="number" id="anoReferencia" min="2020" max="2030" value="2025" placeholder="Ano"
                                required>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Se√ß√£o 2 - Atividades Realizadas -->
            <section class="section" id="atividades">
                <h2>2 - Atividades Realizadas</h2>

                <div class="alert" id="successAlert">
                    Atividade adicionada com sucesso!
                </div>

                <div class="alert" id="errorAlert">
                    Por favor, preencha todos os campos obrigat√≥rios.
                </div>

                <div class="table-container">
                    <table id="activitiesTable">
                        <thead>
                            <tr>
                                <th class="area-column">√Årea</th>
                                <th class="hours-column">Horas</th>
                                <th class="status-column">Situa√ß√£o</th>
                                <th class="activity-column">Atividade</th>
                                <th class="actions-column">A√ß√µes</th>
                            </tr>
                        </thead>
                        <tbody>
                            <!-- Tabela vazia - sem dados de teste -->
                        </tbody>
                    </table>
                </div>

                <!-- Bot√£o para mostrar formul√°rio -->
                <div class="add-activity-section">
                    <button type="button" class="btn-add-activity" onclick="mostrarFormulario()">
                        ‚ûï Adicionar Nova Atividade
                    </button>
                </div>

                <!-- Formul√°rio (inicialmente oculto) -->
                <div class="form-container" id="formAdicionarAtividade" style="display: none;">
                    <div class="form-header">
                        <h3 id="formTitulo">Adicionar Nova Atividade</h3>
                        <button type="button" class="btn-close" onclick="ocultarFormulario()">‚úï</button>
                    </div>
                    <form id="activityForm">
                        <input type="hidden" id="editIndex" value="-1">
                        <div class="form-row">
                            <div class="form-group">
                                <label for="area">√Årea Demandante *</label>
                                <select id="area" required>
                                    <option value="">Selecione uma √°rea</option>
                                    <option value="Diretoria Geral">Diretoria Geral</option>
                                    <option value="Financeiro">Financeiro</option>
                                    <option value="GGE">GGE</option>
                                    <option value="Integra√ß√£o">Integra√ß√£o</option>
                                    <option value="Jur√≠dico">Jur√≠dico</option>
                                    <option value="Projetos">Projetos</option>
                                    <option value="Recursos Humanos">Recursos Humanos</option>
                                    <option value="Tecnologia da Informa√ß√£o">Tecnologia da Informa√ß√£o</option>
                                    <option value="Licita√ß√£o">Licita√ß√£o</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="hours">Horas *</label>
                                <input type="number" id="hours" min="0" max="999" step="0.5" required>
                            </div>
                            <div class="form-group">
                                <label for="status">Situa√ß√£o *</label>
                                <select id="status" required>
                                    <option value="">Selecione</option>
                                    <option value="Em andamento">Em andamento</option>
                                    <option value="Conclu√≠do">Conclu√≠do</option>
                                    <option value="Pendente">Pendente</option>
                                    <option value="Cancelada">Cancelada</option>
                                </select>
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group full-width">
                                <label for="activity">Atividade Realizada *</label>
                                <textarea id="activity" rows="3" placeholder="Descreva a atividade realizada"
                                    required></textarea>
                            </div>
                        </div>
                        <div class="form-buttons">
                            <button type="submit" class="btn-primary" id="submitButton">Adicionar Atividade</button>
                            <button type="button" class="btn-cancel" onclick="ocultarFormulario()">Cancelar</button>
                        </div>
                    </form>
                </div>
            </section>

            <!-- Se√ß√£o 3 - S√≠ntese Mensal -->
            <section class="section" id="sintese">
                <h2>3 - S√≠ntese Mensal</h2>

                <div class="form-row">
                    <div class="form-group">
                        <label for="totalAtividades">Total de atividades realizadas</label>
                        <input type="number" id="totalAtividades" readonly class="result-field" value="0">
                    </div>
                    <div class="form-group">
                        <label for="totalHoras">Total de horas trabalhadas</label>
                        <input type="number" id="totalHoras" step="0.1" readonly class="result-field" value="0">
                    </div>
                </div>

                <div class="form-group full-width">
                    <label for="principaisResultados">Principais resultados alcan√ßados:</label>
                    <textarea id="principaisResultados" rows="4"
                        placeholder="Descreva os principais resultados alcan√ßados no per√≠odo..."></textarea>
                </div>

                <div class="calculate-section">
                    <button type="button" class="btn-secondary" onclick="calcularTotais()">
                        üî¢ Calcular Totais
                    </button>
                    <span class="calculate-info">Clique para calcular totais baseados nas atividades</span>
                </div>
            </section>

            <!-- Se√ß√£o 4 - Sugest√µes e Melhorias -->
            <section class="section" id="sugestoes">
                <h2>4 - Sugest√µes e Melhorias</h2>

                <div class="form-group full-width">
                    <label for="descricaoSituacao">Descri√ß√£o da situa√ß√£o atual</label>
                    <textarea id="descricaoSituacao" rows="3"
                        placeholder="Descreva a situa√ß√£o atual que precisa ser melhorada..."></textarea>
                </div>

                <div class="form-group full-width">
                    <label for="processoSugerido">Processo sugerido</label>
                    <textarea id="processoSugerido" rows="3"
                        placeholder="Descreva o processo ou solu√ß√£o sugerida..."></textarea>
                </div>

                <div class="form-group full-width">
                    <label for="resultadoEsperado">Resultado esperado</label>
                    <textarea id="resultadoEsperado" rows="3"
                        placeholder="Descreva o resultado esperado com a implementa√ß√£o..."></textarea>
                </div>
            </section>

            <!-- Bot√£o de A√ß√£o -->
            <div class="actions">
                <button class="btn-primary btn-large" onclick="gerarPDF()">Salvar como PDF</button>
            </div>
        </main>
    </div>

    <!-- Modal de Confirma√ß√£o de Exclus√£o -->
    <div class="modal-overlay" id="modalExclusao" style="display: none;">
        <div class="modal-container">
            <div class="modal-header">
                <h3>üóëÔ∏è Confirmar Exclus√£o</h3>
                <button type="button" class="btn-close" onclick="fecharModalExclusao()">‚úï</button>
            </div>
            <div class="modal-body">
                <div class="warning-message">
                    <div class="warning-icon">‚ö†Ô∏è</div>
                    <div class="warning-text">
                        <p><strong>Tem certeza que deseja excluir esta atividade?</strong></p>
                        <p class="warning-detail">Esta a√ß√£o n√£o pode ser desfeita.</p>
                    </div>
                </div>
                <div class="activity-preview" id="previewAtividade">
                    <!-- Preview da atividade ser√° preenchido via JavaScript -->
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn-cancel" onclick="fecharModalExclusao()">Cancelar</button>
                <button type="button" class="btn-danger" onclick="confirmarExclusao()">Sim, Excluir</button>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>

</html>